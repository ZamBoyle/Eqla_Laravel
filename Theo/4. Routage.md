# Le Routage dans Laravel
Dans l'arborescence de votre projet, vous pouvez voir qu'il y a un fichier qui s'appelle web.php dans le dossier routes.

Dans celui-ci on y décrit les différentes routes pour notre application.

## 1. Routage sur une vue (view)
Si l'on analyse ce fichier, nous y voyons une route qui est définie:
```php
Route::get('/', function () {
    return view('welcome');
});
```
Ce code appelle la méthode get de la classe Route avec les paramètres suivants:
- Le premier paramètre est le chemin. Ici c'est la racine du site: /
- Le second paramètre est une [méthode anonyme](https://www.php.net/manual/fr/functions.anonymous.php) qui retourne une vue qui s'appelle 'welcome'.

### Rappel sur les fonctions anonymes en PHP
Exemple 1: Auto-invoquer une fonction anonyme
```php
<?php
    (function(){
        echo 'Fonction anonyme bien exécutée';
    })();
?>
```
On entoure la fonction anonyme d’un premier couple de parenthèses et d’ajouter un autre couple de parenthèses à la suite du premier couple.

Exemple 2: Utiliser une fonction anonyme comme fonction de rappel
```php
<?php
    $strings = ["apple", "orange", "banana", "coconut"];
    $lengths = array_map( function($item) { return strlen($item); } , $strings);
    print_r($lengths);
?>
```
La sortie donnera ceci:
```bash
Array
(
    [0] => 5
    [1] => 6
    [2] => 6
    [3] => 7
)
```
L'intérêt des fonctions anonymes ici c'est qu'on définit directement un ensemble d'actions à faire comme paramètre :) On passe comme paramètre à la méthode get, une fonction anonyme.

Notons encore que la méthode get suppose que la requête a été initiée par la méthode GET sinon on a aussi une méthode post dans la classe Route.

Cette route pourrait s'écrire aussi:
```php
Route::view('/', 'welcome');
```
Ici, c'est un raccourci qui appellera la méthode view qui retournera une vue.

---
_[Eqla](http://www.eqla.be) 2021 - Formation Laravel_